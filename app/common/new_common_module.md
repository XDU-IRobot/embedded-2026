# 添加新模块

什么时候该添加一个新模块？

开发过程中需要一种新的“通用”软件，就需要添加一个新模块。

比如：产生了一种新构型的机械结构：“大 yaw 轴 + 小二轴云台“、”登岛月球车底盘“。这些新结构并不对应某一辆具体的车，而是可以被多辆车所共享使用的，那么就需要为这种新结构添加一个新模块。更具体的说，你需要针对这种机构的控制逻辑写一个新的控制器类，放在 `app/common/controllers/` 目录下。

再比如：上下位机通信协议需要支持一种新的数据格式，这也不是针对某一辆车的具体功能需求，而是可以被多辆车所共享使用的，那么也需要为这种新数据格式添加一个新模块。

再比如：你发现了一种效果很好的滤波器算法/功率控制算法，这种算法可以被多辆车所共享使用，那么也需要为这种新算法添加一个新模块。

总的来说，如果觉得有改进点/bugfix，优先考虑把这些改动做成通用模块的改进，而不是只管自己的车能跑就行。让所有车收益，大家都可以减少工作量、提高效率。

## 怎么添加新模块？

把新添加的代码放到 `app/common/` 目录下，然后重新生成 CMake 项目即可。

例如：要添加大 yaw 轴 + 小二轴云台控制器模块 `dual_yaw_gb_controller`，直接在 `app/common/controllers/` 目录下建新文件`dual_yaw_gb_controller.hpp` 和 `dual_yaw_gb_controller.cc`，然后编写代码即可。
